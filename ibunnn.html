<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ibunn lop u</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- Audio -->
    <audio id="backgroundSound" src="sound.mp3" preload="auto" loop></audio>

    <div class="gallery-container">
      <h1>Maaciiiiiii &lt;3</h1>
      <div class="gallery">
        <canvas id="heartCanvas"></canvas>
        <div class="gallery-item rotate">
          <img src="https://media.tenor.com/K0Op-0SpsvkAAAAj/dudu-cute.gif" alt="Kenangan 1" />
          <div class="caption">"Kamu nk gemes gemes nanti tak hap lhoo."</div>
        </div>
        <div class="gallery-item">
          <img src="https://media.tenor.com/CNJSyzMIkskAAAAj/bubu-dudu-sseeyall.gif" alt="Kenangan 2" />
          <div class="caption">"Maaciii ibunn sayanggg, mwaaaaa"</div>
        </div>
        <div class="gallery-item rotate">
          <img src="https://media.tenor.com/63IENW605s0AAAAj/dudu-twisting-dance.gif" alt="Kenangan 3" />
          <div class="caption">"yeayyyyyyyyy"</div>
        </div>
        <div class="gallery-item">
          <img src="https://media.tenor.com/LFYspX1SSUcAAAAj/bubu-dudu-bubu.gif" alt="Kenangan 4" />
          <div class="caption">"Hehehehehehe."</div>
        </div>
      </div>
    </div>

    <script>
      const nama = prompt("Haoooo, isi nama dulu bun");
      while (true) {
        let terima = confirm(`Haoooo ${nama}, mau ga jadi my bububbbb? hehe`);
        if (terima) {
          break;
        }
      }

     alert(`Yeayyyyy, Makasiii ibunnn uda sayangg sama ireng iniii, asakdmskfdjksdnskn`);

const sound = document.getElementById("backgroundSound");

// Coba play langsung setelah alert
sound.play().catch(() => {
  // kalau gagal, tunggu klik pertama user
  document.body.addEventListener("click", () => {
    sound.play();
  }, { once: true });
});

      // ---------------- HEARTS ANIMATION ----------------
      const canvas = document.getElementById("heartCanvas");
      const ctx = canvas.getContext("2d");

      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      window.addEventListener("resize", () => {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      });

      let heartsArray = [];

      class Heart {
        constructor(x, y, size, speed) {
          this.x = x;
          this.y = y;
          this.size = size;
          this.speed = speed;
          this.alpha = 1;
        }

        draw() {
          ctx.save();
          ctx.globalAlpha = this.alpha;
          ctx.fillStyle = "#ff6b6b";
          ctx.beginPath();
          ctx.moveTo(this.x, this.y);
          ctx.bezierCurveTo(
            this.x + this.size / 2,
            this.y - this.size / 2,
            this.x + this.size,
            this.y + this.size / 3,
            this.x,
            this.y + this.size
          );
          ctx.bezierCurveTo(
            this.x - this.size,
            this.y + this.size / 3,
            this.x - this.size / 2,
            this.y - this.size / 2,
            this.x,
            this.y
          );
          ctx.fill();
          ctx.restore();
        }

        update() {
          this.y -= this.speed;
          this.alpha -= 0.01;
          if (this.alpha <= 0) {
            this.alpha = 1;
            this.y = canvas.height;
            this.x = Math.random() * canvas.width;
          }
          this.draw();
        }
      }

      function createHeart() {
        const x = Math.random() * canvas.width;
        const size = Math.random() * 20 + 10;
        const speed = Math.random() * 1.5 + 0.5;
        heartsArray.push(new Heart(x, canvas.height, size, speed));
      }

      setInterval(createHeart, 100);

      function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        heartsArray.forEach((heart) => heart.update());
        requestAnimationFrame(animate);
      }

      animate();
    </script>
  </body>
</html>
